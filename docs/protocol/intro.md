---
mentions:
  - Mirucow
---

# プロトコル

## はじめに

Minecraft Bedrock Editionでのマルチプレイで通信されるデータは、決まったプロトコルに従って送受信されます。そのため、サーバーソフトウェアやクライアントを作成する際には、プロトコルについて理解しておく必要があります。

このページでは、Minecraft Bedrock Editionのプロトコルについて詳しく説明していきます。

## マルチプレイ

Minecraft Bedrock Editionでのマルチプレイは、クライアント間の通信をサーバーを介して行います。サーバーは、クライアントからの通信を受け取り、他のクライアントに転送する役割を持ちます。このようにすることで、複数のクライアントが同じワールドでプレイできるようになります。

例えば、プレイヤーがブロックを破壊したとき、その情報はサーバーを介して他のプレイヤーに送信されます。その結果、他のプレイヤーも同じブロックが破壊されたことを確認することができます。

全ての通信は、プロトコルに従って行われます。プロトコルは、通信の形式や手順を定義したものであり、クライアントとサーバーが正しく通信できるようにするために必要です。

## 通信

Minecraft Bedrock Editionの通信は、RakNetというUDPをベースにしたネットワークエンジンを介して行われます。RakNetは、通信の信頼性や効率性を高めるための機能を提供します。

::: tip RakNet
これから先は、RakNetを導入していることを前提に説明していきます。RakNetについては、[RakNet](../raknet/intro)を参照してください。
:::

通信は、パケットという単位で行われます。パケットには様々な種類があり、それぞれ異なる目的で使用されます。例えば、`Text`パケットはチャットのメッセージの送信・受信に使用され、`AddActor`パケットはエンティティのスポーンに使用されます。

本来、ゲームのプロトコルは内部の処理のみに用いられ、公開されることはありませんが、Minecraft Bedrock Editionのプロトコルは一部が公開されています。これにより、サーバーソフトウェアやクライアントを作成する際に、プロトコルの詳細を公式から参照することができます。

しかし、公開されているプロトコルは一部であり、全ての情報が公開されているわけではありません。チャンクデータの送信やログイン処理など、細かい部分のルールは非公開となっており、リバースエンジニアリングによって解析する必要があります。

今となっては、Minecraft Bedrock Editionのプロトコルは多くの人々によって解析されたため、他サーバーソフトウェアのコードを参考にすることで、プロトコルの詳細を知ることができます。